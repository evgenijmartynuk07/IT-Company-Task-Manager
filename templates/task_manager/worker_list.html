{% extends "base.html" %}

{% block content %}
<div class="m-5 nav justify-content-center m-4">
<h2>Worker List Page</h2>
<br>
 <table class="table text-center m-4" style="background-color: white">
  <tr>
    <th>Username</th>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Position</th>
    <th>Last Login</th>
    <th>Tasks:</th>
    <th></th>
  </tr>
  {% for worker in object_list %}
    <tr>
      <td>
          {{ worker.username }}
      </td>
      <td>
          {{ worker.first_name }}
      </td>
      <td>
          {{ worker.last_name }}
      </td>
      <td>
          {{ worker.position.name }}
      </td>
      <td>
          {{ worker.last_login }}
      </td>
      <td>
          {{ worker.tasks.all.count }}
      </td>
      <td>
          <a class="btn btn-primary" href="{% url "task_manager:worker-detail" pk=worker.id %}">More Details</a>
      </td>
    </tr>
  {% endfor %}
  </table>
</div>
{% endblock %}
